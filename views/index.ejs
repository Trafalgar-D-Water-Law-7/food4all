<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Plate Share</title>
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <meta content="" name="keywords">
  <meta content="" name="description">
  <%- include('config/export') %>

</head>

<body>

  <div id="donate-popup" style="z-index: 1009;
    display: none; position: fixed; top: 20%; left: 50%; transform: translate(-50%, -20%); background: #fff; border: 1px solid #ccc; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.2);">
    <h3>Donate with eSewa</h3>
    <form action="/donate" method="POST">
      <label>Amount (NPR):</label><br/>
      <input type="number" name="amount" required style="padding: 6px; margin-bottom: 10px; width: 100%;"><br/>
      
      <label>Message (optional):</label><br/>
      <textarea name="message" style="width: 100%; padding: 6px; margin-bottom: 10px;"></textarea><br/>
      
      <button type="submit" style="padding: 6px 12px; background-color: green; color: white; border: none; border-radius: 4px;">Proceed to Pay</button>
      <button type="button" onclick="document.getElementById('donate-popup').style.display='none'" style="margin-left: 10px;">Cancel</button>
    </form>
  </div>
  <div class=" container-xxl bg-white p-0 w-full full">
    <!-- Navbar & Hero Start -->
    <div class="container-xxl position-relative p-0">
      <%- include('config/nav') %>
        <div class="container-xxl py-5 bg-dark hero-header mb-5">
          <div class="container my-5 py-5">
            <div class="row align-items-center g-5">
              <div class="col-lg-6 text-center text-lg-start">
                <h1 class="display-3 text-white animated slideInLeft">Enjoy Our<br>Delicious Meal</h1>
                <p class="text-white animated slideInLeft mb-4 pb-2">All the food are are provided by the Heartly people
                  . Food are Shared here by the different people of the country.
                  Big thank you to the people who donate the food .
                </p>
                
                  <button  class="btn btn-primary py-sm-3 px-sm-5 me-3 animated slideInLeft"
                  onclick="document.getElementById('donate-popup').style.display='block'" style="padding: 8px 16px; background-color: green; color: white; border: none; border-radius: 6px;">
                    ðŸ’¸ Donate via eSewa
                  </button>
                  


              </div>
              <div class="col-lg-6 text-center text-lg-end overflow-hidden">
                <img class="img-fluid" src="img/hero.png" alt="">
              </div>
            </div>
          </div>
        </div>
    </div>
  </div>
    
    
 <!-- Toggle Button -->
<div style="text-align: right; margin: 10px 2%;">
  <button id="toggleCardView" class="btn btn-primary btn-sm">
    Show Donations in Card Format
  </button>
</div>

<!-- Card View Container (Initially Hidden) -->
<div id="cardViewContainer" class="container d-none" style="margin-bottom: 20px;">
  <div id="card-list" class="row g-3">
    <!-- Cards will be dynamically injected here -->
  </div>
</div>

<script src="/js/index-card-view.js"></script>

<link rel="stylesheet" href="/css/index-map-view.css">

<!-- Map Container -->
<div id="map"></div>
<!-- Pass donations data from backend to frontend -->
<script>
  const donations = <%- JSON.stringify(donations) %>;
</script>

<script src="/js/index-map-view.js"></script>


    <%- include('config/footer') %>


      <div>
        <%= success %> <!-- Flash message -->
      </div>


</body>

</html>