      <!-- Modal -->
            <div class="modal fade" id="detailsModal<%= index %>" tabindex="-1"
              aria-labelledby="detailsModalLabel<%= index %>" aria-hidden="true">
              <div class="modal-dialog modal-lg modal-dialog-scrollable">
                <div class="modal-content border-0 shadow rounded">
                  <div class="modal-header bg-primary text-white">
                    <h5 class="modal-title" id="detailsModalLabel<%= index %>">
                      <i class="bi bi-info-circle-fill me-2"></i> Donation Details
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                      aria-label="Close"></button>
                  </div>

                  <div class="modal-body">
                    <div class="row">
                      <!-- Left Column: Requester Info -->
                      <div class="col-md-6 border-end">
                        <h6 class="text-secondary fw-bold mb-3">üì¶ Requester Details</h6>
                        <p><strong>Name:</strong>
                          <%= donation.foodRequest?.user?.name || 'Anonymous' %>
                        </p>
                        <p><strong>Message:</strong>
                          <%= donation.foodRequest?.message || 'No message' %>
                        </p>
                        <p><strong>Address:</strong>
                          <%= donation.foodRequest?.address || 'N/A' %>
                        </p>
                        <% if (donation.foodRequest?.user?.contact) { %>
                          <p><strong>Contact:</strong> <a href="tel:<%= donation.foodRequest.user.contact %>">
                              <%= donation.foodRequest.user.contact %>
                            </a></p>
                          <% } %>
                            <% if (donation.foodRequest.latitude && donation.foodRequest.longitude) { %>
                              <p>
                                <strong>Map:</strong>
                                <a href="https://www.google.com/maps?q=<%= donation.foodRequest.latitude %>,<%= donation.foodRequest.longitude %>"
                                  target="_blank">
                                  View Location <i class="bi bi-geo-alt-fill"></i>
                                </a>
                              </p>
                              <% } %>
                      </div>

                      <!-- Right Column: Donor Info -->
                      <div class="col-md-6">
                        <h6 class="text-secondary fw-bold mb-3">üéÅ Donor Details</h6>
                        <p><strong>Name:</strong>
                          <%= donation.donor?.name || 'Unknown' %>
                        </p>
                        <p><strong>Message:</strong>
                          <%= donation.message || 'No message' %>
                        </p>
                        <p><strong>Address:</strong>
                          <%= donation.address || 'N/A' %>
                        </p>

                        <% if (donation.donor?.contact) { %>
                          <p><strong>Contact:</strong> <a href="tel:<%= donation.donor.contact %>">
                              <%= donation.donor.contact %>
                            </a></p>
                          <% } %>
                            <% if (donation.foodRequest.latitude && donation.foodRequest.longitude) { %>
                              <p>
                                <strong>Map:</strong>
                                <a href="https://www.google.com/maps?q=<%= donation.foodRequest.latitude %>,<%= donation.foodRequest.longitude %>"
                                  target="_blank">
                                  View Location <i class="bi bi-geo-alt-fill"></i>
                                </a>
                              </p>
                              <% } %>
                      </div>
                    </div>

                    <hr class="my-4">

                    <!-- Full Summary Section -->
                    <div class="summary">
                      <h6 class="text-secondary fw-bold mb-3">üßæ Summary</h6>
                      <ul class="list-group">
                        <li class="list-group-item"><strong>Requester:</strong>
                          <%= donation.foodRequest?.user?.name || 'Anonymous' %>
                        </li>
                        <li class="list-group-item"><strong>Donor:</strong>
                          <%= donation.donor?.name || 'Unknown' %>
                        </li>
                        <% if (donation.pickedBy) { %>
                          <li class="list-group-item text-success"><strong>Picked by:</strong>
                            <%= donation.pickedBy.name %>
                          </li>
                          <% } else { %>
                            <li class="list-group-item text-warning"><strong>Status:</strong> Not picked yet</li>
                            <% } %>
                      </ul>
                    </div>
                  </div>

                  <div class="modal-footer bg-light">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                      <i class="bi bi-x-circle"></i> Close
                    </button>
                  </div>
                </div>
              </div>
            </div>